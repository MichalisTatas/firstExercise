Μιχαήλ Τατάς
1115201700161
1η άσκηση

Το πρόγραμμα περιέχει όλα τα αρχεία του validator και το ίδιο
Επιπλέον μεταγλωτίζεται με την εντολή make και τρέχει με την εντολή make run / make valgrind
Στην πρώτη απλώς τρέχει ενω στην δεύτερη τρέχει χρησιμοποιώντας το valgrind

Σε όλες τις συναρτήσεις στην αρχή κάνω τους απαραίτητους ελέγχους για τα ορίσματα και αν βρώ κάποιο λάθος τότε το εκτυπώνω στον χρήστη αφήνωντας τον να ξαναβάλει κάποια καινούργια εντολή
Έλεγχοι γίνονται και στην αρχή του προγράμματος όπως έχει ζητηθεί για τους ασθενείς
Επιλέον έχω μεριμνήσει ώστε να μην υπάρχουν memory leaks

Οι ασθενείς με ίδια ημερομηνία εισαγωγής δεν μπαίνουν στο δέντρο αλλά επειδή στην αρχή του προγράμματος ταξινομώ την λίστα με βάση την ημερομήνια εισαγωγής τότε ο πρώτος ασθενής που θα μπεί στο δέντρο με την συγκεκριμένη ημερομηνία είναι και ο πρώτος ασθενής στην λίστα με αυτή την ημερομηνία ενώ αν υπάρχουν και άλλοι με αυτή την ημερομηνία είναι ακριβώς μετά απο αυτόν στην λίστα
Οποτε όταν κάνω αναζήτηση για κάθε ασθενή τσεκάρω αν ο επόμενος ασθενής στην λίστα έχει διαφορετική ημερομήνια αλλιώς ψάχνω την λίστα μέχρι να βρώ κάποιον με διαφορετική ημερομηνία

/globalDiseaseStats [date1 date2] :
	 Ψάχνω όλο το disease hash table και έτσι βρίσκω το δέντρο της κάθε ασθένειας. Στη συνέχεια καλώ μια αναδρομική συνάρτηση ,που δεν ψάχνει όλο το δέντρο αλλά μόνο ένα μέρος του, η οποία μετράει τον αριθμό των κρουσμάτων και αν έχουν δωθεί και ημερομηνίες περιορίζει την έρευνα στο δοσμένο διάστημα.

/diseaseFrequency virusName [country] date1 date2 :
	Βρίσκω απευθείας το bucket του disease hash table όπου βρίσκεται η δοσμένη ασθένεια με τη χρήση της hash function και του κλειδιού virusName, ύστερα ψάχνω την αλυσίδα με τα buckets μέχρι να βρώ τον κόμβο με τη συγκεκριμένη ασθένεια, οπότε βρίσκω το δέντρο της και καλώ την ίδια αναδρομική συνάρτηση με το προηγούμενο ερώτημα η οποία μετράει το πλήθος των κρουσμάτων , η οποία ελέγχει και αν έχει δωθεί το όρισμα country, και αν εχει δωθεί μετράει ασθενείς μόνο απο αυτή την χώρα αλλιώς δεν λαμβάνει υπόψιν την χώρα ενώ όπως αναφέρθηκε περιορίζει την έρευνα μόνο στο δοσμένο χρονικό διάστημα

/topk-Diseases k country [date1 date2] :
	Χρησιμοποιώντας το κλειδί country βρίσκω στο country hash table το δέντρο ασθενειών για την συγκεκριμένη χώρα και ύστερα διατρέχωντας το disease hash table βρίσκω όλες τις ασθένειες και τον αριθμό των κρουσμάτων τους (μετρώντας τα δέντρα τους). Οι δυο πληροφορίες αυτές (ασθένεια, αριθμός κρουσμάτων) στη συνέχεια μπαίνουν σε ενα binary max heap ως ενας κόμβος και στο τέλος για k επαναλήψεις κάνω remove απο το binary max heap και βρίσκω τα top k diseases

Το binary heap εχει υλοποιηθεί σαν complete binary tree και για να εισάγω στοιχείο το βάζω στο τέλος και μετα αναδρομικά το ανεβάζω στην θέση που του αντιστοιχεί ενώ όταν αφαιρω ενα στοιχείο (την ρίζα) την ανταλλάσω με το τελευταίο στοιχείο του δέντρου και την διαγράφω και ύστερα αναδρομικά κατεβάζω τη νέα ρίζα στην θέση που της αντιστοιχεί

/topk-Countries k disease [date1 date2] :
	Κάνω ακριβώς την ίδια διαδικασία με το /topk-Diseases k country [date1 date2] απλώς για κλειδί χρησιμοποιώ το disease στο disease hash table και μετά χρησιμοποιώντας το country hash table βρίσκω όλες τις χώρες και τον αριθμό κρουσμάτων τους και μη την ίδια διαδικασία τα βάζω στο binary max heap και μετά βγάζω στοιχεία απο το heap για k επαναλήψεις

/insertPatientRecord recordID patientFirstName patientLastName diseaseID entryDate [exitDate] :
	Απλώς δημιουργώ ένα καινούργιο struct patient με τα δοσμένα στοιχεία και το βάζω στην λίστα και τους πίνακες κατακερματισμού με τη χρήση των αντίστοιχων συναρτήσεων

/recordPatientExit recordID exitDate
	Αφου δεν μου δίνεται κάποιο κλειδί για γρήγορη πρόσβαση στον άσθενη μέσω τών πινάκων κατακερματισμού απλώς διατρέχω την λίστα βρίσκω την εγγραφή και αντικαθιστώ την ημερομηνία εξόδου της

/numCurrentPatients [disease] : 
	Αν δωθεί το όρισμα disease το χρησιμοποιώ και με την συνάρτηση hash function βρίσκω γρήγορα την αλυσίδα κουβάδων όπου βρίσκεται η εγγραφή, την διατρέχω, βρίσκω την εγγραφή αρα και το δέντρο με την ασθένεια και μετράω τους ασθενείς που έχουν για exit date NULL
	Αν δεν δωθεί το όρισμα τότε διατρέχω όλο to disease hash table και για κάθε εγγραφή παίρνω το δέντρο της και μετράω τους ασθενείς με exit date NULL

/exit : 
	Αποδεσμεύω τον χώρο που έχω δεσμεύσει και βγαίνω απο τη συνάρτηση diseaseMonitor
